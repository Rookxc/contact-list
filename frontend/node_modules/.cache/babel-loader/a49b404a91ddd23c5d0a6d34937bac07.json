{"ast":null,"code":"var _jsxFileName = \"D:\\\\Files\\\\Work\\\\faks\\\\Blocksi\\\\App\\\\frontend\\\\src\\\\Components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport Button from './Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  var success = true;\n\n  async function Login(e) {\n    e.preventDefault();\n    const res = await fetch('http://localhost:3001/users/login', {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    });\n    var status = await res.status;\n    var data = null;\n\n    if (status === 201) {\n      data = await res.json();\n    } else {\n      success = false;\n    }\n\n    if (success) {\n      setUsername(data.username);\n      localStorage.setItem(\"loggedIn\", true);\n      localStorage.setItem(\"userID\", data._id);\n      window.location.href = \"/\";\n    } else {\n      localStorage.setItem(\"loggedIn\", true);\n      localStorage.setItem(\"userID\", \"\");\n      alert(\"Wrong username or password!\");\n      document.getElementsByClassName(\"form-control\").style.borderColor = \"red\";\n    } //const data = await res.json();\n\n\n    setUsername(\"\");\n    setPassword(\"\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"400px\",\n      margin: \"30px\",\n      position: 'absolute',\n      left: '50%',\n      top: '40%',\n      transform: 'translate(-50%, -50%)'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form-group \",\n      onSubmit: Login,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: \"30px\"\n        },\n        children: \" Login \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          marginBottom: \"15px\"\n        },\n        type: \"text\",\n        className: \"form-control\",\n        name: \"username\",\n        placeholder: \"Username\",\n        value: username,\n        onChange: e => {\n          setUsername(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: password,\n        onChange: e => {\n          setPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        text: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"wuQOK7xaXdVz4RMrZQhWbI751Oc=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/Files/Work/faks/Blocksi/App/frontend/src/Components/Login.js"],"names":["useState","Button","Login","username","setUsername","password","setPassword","success","e","preventDefault","res","fetch","method","credentials","headers","body","JSON","stringify","status","data","json","localStorage","setItem","_id","window","location","href","alert","document","getElementsByClassName","style","borderColor","width","margin","position","left","top","transform","marginBottom","target","value"],"mappings":"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","sourcesContent":["import {useState} from 'react';\r\n\r\nimport Button from './Button'\r\n\r\nfunction Login(){\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    var success = true;\r\n\r\n\r\n    async function Login(e){\r\n        e.preventDefault();\r\n        const res = await fetch('http://localhost:3001/users/login', {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                username: username,\r\n                password: password,\r\n            })\r\n        });\r\n\r\n        var status = await res.status;\r\n        var data = null;\r\n\r\n        if(status === 201){\r\n            data = await res.json();\r\n        } \r\n        else{\r\n            success = false;\r\n        }\r\n\r\n        if(success){\r\n            setUsername(data.username);\r\n            localStorage.setItem(\"loggedIn\", true);\r\n            localStorage.setItem(\"userID\", data._id);\r\n            window.location.href = \"/\";\r\n        }\r\n        else{\r\n            localStorage.setItem(\"loggedIn\", true);\r\n            localStorage.setItem(\"userID\", \"\");\r\n            alert(\"Wrong username or password!\");\r\n            document.getElementsByClassName(\"form-control\").style.borderColor = \"red\";\r\n        }\r\n\r\n        //const data = await res.json();\r\n        setUsername(\"\");\r\n        setPassword(\"\");\r\n\r\n        \r\n    }\r\n\r\n\r\n    return(\r\n        <div style={{width: \"400px\", margin: \"30px\", position: 'absolute', left: '50%', top: '40%', transform: 'translate(-50%, -50%)'}}>\r\n            <form className=\"form-group \" onSubmit={Login}>\r\n                <h2 style={{marginBottom: \"30px\"}}> Login </h2>\r\n                <input\r\n                    style={{marginBottom: \"15px\"}}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"username\"\r\n                    placeholder=\"Username\"\r\n                    value={username}\r\n                    onChange={(e) => {\r\n                    setUsername(e.target.value);\r\n                    }}\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    name=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={password}\r\n                    onChange={(e) => {\r\n                    setPassword(e.target.value);\r\n                    }}\r\n                />\r\n                <Button text=\"Login\"/>    \r\n            </form>\r\n        </div> \r\n    )\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}